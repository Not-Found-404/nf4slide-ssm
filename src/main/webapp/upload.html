<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>上传文件</title>
    <link href="js/plugin/webuploader-0.1.5/webuploader.css" rel="stylesheet">
    <link href="css/upload.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 网页图标 -->
    <link rel="icon" type="image/x-icon" href="http://www.qtu404.com/nf4slide/assets/icon/favicon.ico">
    <!--对话框和确认框-->
    <link href="https://cdn.bootcss.com/jquery-confirm/3.2.3/jquery-confirm.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
<div id="avator-header">
    <span class="avator-header__font">
        <i class="fa fa-paper-plane fa-1x avatar-header__icon"></i>NF4 园丁助手</span>
</div>

<div class="btn-upload" id="pick">上传
</div>
<div class="upload-pxtt-font">
请上传PPTX文件
</div>
<script src="js/plugin/jquery-3.2.1.min.js" type="text/javascript"></script>
<script src="js/plugin/jquery-confirm.js" type="text/javascript"></script>
<script src="js/plugin/webuploader-0.1.5/webuploader.js"></script>
<!--对话框和确认框 js依赖-->
<script src="https://cdn.bootcss.com/jquery.form/4.2.1/jquery.form.js"></script>
<!--对话框和确认框-->
<script>
    $(function () {
        var uploader = WebUploader.create({
            auto: true,
            // swf文件路径
            swf: 'js/plugin/webuploader-0.1.5/Uploader.swf',

            // 文件接收服务端。
            server: 'file/pptUpLoad',

            // 选择文件的按钮。可选。
            // 内部根据当前运行是创建，可能是input元素，也可能是flash.
            pick: '#pick',

            // 不压缩image, 默认如果是jpeg，文件上传前会压缩一把再上传！
            resize: true,
            duplicate: true,
            accept: {
                title: 'pptx',
                extensions: 'pptx',
                mimeTypes: 'application/vnd.openxmlformats-officedocument.presentationml.presentation'
            }
        });

        uploader.on('uploadSuccess', function (file, response) {
            alert('成功上传PPTX文件');
            window.open('toUserPage', '_self');
        });

        uploader.on('fileQueued', function (file) {
            $.confirm({
                title: '',
                content: '正在处理中请勿关闭此页面!',
                type: 'blue'
            });
        });
    });
</script>
</body>
</html>